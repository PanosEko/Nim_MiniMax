# Nim_MinMax
 
 Υλοποίηση παιγνίου με minimax 

 ## Κανόνες παιχνιδιού

Πρόγραμμα με το οποίο ο χρήστης μπορεί να παίξει ενάντια στον υπολογιστή το εξής παίγνιο δύο παικτών του οποίου οι κανόνες δίνονται παρακάτω:

-	Πάνω σε ένα τραπέζι υπάρχουν αρχικά Μ ίδιοι κύβοι (το Μ είναι παράμετρος του προγράμματος, π.χ Μ=20). 
-	Κάθε παίκτης πρέπει να αφαιρεί είτε 1, είτε 2, είτε Κ κύβους από το τραπέζι. Το Κ (2<Κ<Μ) είναι, επίσης, παράμετρος του προγράμματος, π.χ. Κ=4. Δηλαδή κάθε παίχτης έχει τρεις το πολύ εναλλακτικές ενέργειες κάθε φορά (και δεν μπορεί να αφαιρέσει αριθμό κύβων που να είναι διαφορετικός από τους 1, 2, K).
-	Νικητής είναι ο παίκτης που θα αφαιρέσει τον τελευταίο κύβο από το τραπέζι.

## Ανάλυση υλοποίησης

Για την υλοιποίηση του προγράμματος κρίθηκε απαραίτητη η δημιουργήθηκαν δύο κλάσεων, Node και NimGame.

Η κλάση Node χρησιμοποιείται για την αναπαράσταση των κόμβων. Με τον τρόπο που σχεδιάστηκε η κλάση Node δεν κρίνεται απαραίτητη η δημιουργία ξεχωριστής κλάσης για την αναπαρασταση ενός δέντρου καθώς η δομή του δέντρου μπορεί να  υλοποιηθεί χρησιμοποιώντας την παράμετρο-λίστα «children» της κλάσης Node. Συγκεκριμένα στη λίστα «children» του κόμβου-ρίζα (Ο κόμβος ρίζα αναπαριστάται ως ένα αντικείμενο της κλάσης Node) αποθηκεύνονται όλοι οι απόγονοι κόμβοι της ρίζας ως αντικείμενα της κλάσης Node, έστω NodeX ένας από αυτους τους απογόνους. Έπειτα στην λίστα «children» του NodeX αποθηκευονται οι απόγονοι κόμβοι του (NodeX). Ομοίως και για τους υπόλοιπους απογόνους της ρίζας. Με αυτού του είδους την εμφώλευση αναπτύσεται το πλήρες δέντρο παιγνίου το οποίο είναι απαραίτο για την λειτουργία του αλγορίθμου Minimax.

Η κλάση NimGame χρησιμοποιείτε για την αναπαράσταση του παιχνιδιού, όπως αυτό περιγράφεται παραπάνω, αλλά και για την ομαδοποίηση των απαραίτητων συναρτήσεων για την υλοποίηση του παιχνιδιου αυτου. 

Για την επιλογή της επόμενης κίνησης του παίκτη Max, δεδομένης μιας κατάστασης του παιχνιδιού, χρησιμοποιείται ο αλγόριθμος Minimax ο οποίος επιλέγει πάντα την κίνηση που οδηγεί στην κατάσταση-απόγονο με την μεγαλύτερη αξία.
Συγκεκριμένα, κάθε φορά που είναι να παίξει ο ΜΑΧ, εκτελείται ο αλγόριθμος ΜΙΝΙΜΑΧ με ρίζα την τρέχουσα κατάσταση για να βρεθεί η βέλτιστη κίνηση του ΜΑΧ. 

## Περιγραφή λειτουργίας

Η λειτουργία του προγράμματος έχει ώς εξής:

1.	Εμφανίζεται στην κονσόλα μήνυμα το οποίο προτρέπει τον χρήστη να επιλέξει το μέγιστο πλήθος των κύβων που μπορούν να αφαιρεθούν από την στοίβα(K) και το συνολικό πλήθος των κύβων(M).

2.	Αφού ο χρήστης επιλέξει τιμή για τις δύο παραμέτρους που αναφέρθηκαν τότε εκτελείτε επαναληπτικά η παρακάτω διαδικασία έως ότου αφαιρεθούν όλοι οι κύβοι της στοίβας:

      - a.	Αναπτύσσεται το πλήρες δέντρο παιγνίου οι κόμβοι του οποίου αναπαριστούν όλες               τις δυνατές κινήσεις  που μπορούν να γίνουν στο παιχνιδι από την τωρινή κατάσταση και έπειτα. Το δέντρο αυτό εμφανίζεται στην κονσόλα. Οι κόμβοι-φύλλα(leaves) αξιολογούνται ανάλογα με το ποιος από τους δύο παίκτες κέρδίζει εκτελώντας την κίνηση που οδηγεί στον κόμβο αυτό (1 για Max, 0 για Min).

      - b.	Εκτελείτε αλγόριθμος Minimax στο δέντρο που έχει αναπτυχθεί: Ξεκινώντας από τα φύλλα του δέντρου υπολογίζεται η αξία των ενδιάμεσων κόμβων σύμφωνα με τον κανόνα απόφασης Minimax, εως ότου η ρίζα του δέντρου αποκτήσει αξία. Το δέντρο αυτό εμφανίζεται στην κονσόλα με την τιμή αξιολόγισης που έχει πάρει ο κάθε κόμβος.

      - c.	Ο παίκτης Max επιλέγει ώς επόμενη του κίνηση από τους απογόνους της ρίζας τον κόμβο με την μεγαλύτερη αξία. Εάν υπάρχουν περισσότεροι του ενός κόμβοι με μέγιστη αξία τότε επιλέγεται αυτός που οδηγεί σε αφαίρεση των περισσότερων κόμβων.

      - d.	Ο παίκτης Min (χρήστης) επιλέγει την επόμενη του κίνηση.

3.	Εάν μετά την εκτέλεση ενός εκ των βημάτων 2.c ή 2.d αφαιρεθούν όλοι οι κύβοι από την στοίβα τότε εμφανίζεται κατάλληλο μήνυμα το οποίο ενημερώνει για το ποιος είναι ο νικητής του παιχνιδιού.



Ξεκινώντας ένα νέο παιχνίδι με παραμέτρους Μ = 7 και Κ = 4 το δέντρο που αναπτύσεται αρχικά, κατά το βήμα 2.a, ταιριάζει με αυτό που απεικονίζεται παρακάτω. Οι τιμές μέσα στους κόμβους απεικονίζουν τους εναπομείναντες κύβους για την αντίστοιχη κατάσταση παιχνιδιού ενώ οι τιμές στις ακμές δείχνουν το πλήθος των κύβων που αφαιρούνται επιλέγοντας αυτή την κίνηση (π.χ. το -2 κάτω από την ρίζα, δείχνει πως ο παίκτης Max αφαιρεί δύο κύβους από την στοίβα). 
Το χρώμα στους κόμβους-φύλλα υποδηλώνει το νικητή. Τα φύλλα με κόκκινο χρώμα αντιστοιχούν σε καταστάσεις όπου νικητής είναι ο Max ενώ τα φύλλα με πράσινο χρώμα αντιστοιχούν σε καταστάσεις όπου νικητής είναι ο Min.


![1](https://user-images.githubusercontent.com/93736094/171067970-4724d981-9b09-4dca-95a8-712a682e0cf9.png)


Συνεχίζονται το ίδιο παιχνίδι, μετά την εκτέλεση του βήματος 2.b οι κόμβοι του δέντρου έχουν αξιολογηθεί από τον Minimax. Έτσι το δέντρο έχει την μορφή που απεικονίζεται παρακάτω.
Οι τιμές με κόκκινο χρώμα μέσα στους κόμβους αναπαριστούν αξία κάθε κόμβου η οποία έχει υπολογιστεί από τον Minimax. 
Στην συγκεκριμένη κατάσταση παιχνιδιού ο παίκτης Max θα επιλέξει να αφαιρέσει τέσσερις κύβους οπότε και θα οδηγηθούμε στον κόμβο δεξιά της ρίζας ο οποίος αντιστοιχεί σε κατάσταση παιχνιδιού με τρεις εναπομείναντες κύβους ενώ θα είναι σειρά του Min να επιλέξει την επόμενη κίνηση.

![2](https://user-images.githubusercontent.com/93736094/171067972-b09cca41-7ffa-49ba-9497-4053b7dfe64e.png)


Παρακάτω παρουσιάζονται τα στιγμιότυπα εκτέλεσης για ένα παιχνίδι με παραμέτρους K = 3 και 
N = 6.

![image](https://user-images.githubusercontent.com/93736094/171067877-e78e9428-1aed-4d80-a3b7-f1c49f1d54f4.png)
 ![image](https://user-images.githubusercontent.com/93736094/171067883-7f00c8a9-4cf6-4fb4-b9d9-c04ab00143c5.png)
![image](https://user-images.githubusercontent.com/93736094/171067887-e5eccf64-5c34-461e-864b-d7c09fa7be5e.png)

 



 



